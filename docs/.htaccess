# Activar redirecciones
RewriteEngine On

# Redireccionar de http a https
RewriteCond %{ENV:HTTPS} !on [NC]
RewriteCond %{HTTP_HOST} ^diamonddance\.es$
RewriteRule ^(.*)$ https://diamonddance.es/$1 [R=301,L,NE]

# Redireccionar de www a sin
RewriteCond %{HTTP_HOST} ^www.diamonddance.es [NC]
RewriteRule ^(.*)$ https://diamonddance.es/$1 [L,R=301]

# Quitar index.php
## RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^/]+/)*index\.php\ HTTP/
## RewriteRule ^(([^/]+/)*)index\.php$ https://diamonddance.es/$1 [R=301,L]

# Cualquier URL sin archivo muestra el contenido de proyectosunicos.php
## RewriteCond %{REQUEST_FILENAME} !-f
## RewriteCond %{REQUEST_FILENAME} !-d
## RewriteRule ^(.+) /index.php [L]

# Quitar extensión .html en las URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html

# Página de Error 404
ErrorDocument 404 /404

# Especificar caché de navegador en servidor
<IfModule mod_expires.c>
<filesmatch "\.(ico|pdf|flv|svg|jpg|jpeg|png|gif|mp4|JPG|JPEG|PNG|GIF|MP4|js|css|xml|txt|woff2|woff|ttf|eot)$">
ExpiresActive on
ExpiresDefault "access plus 30 day"
</filesmatch>
</IfModule>

# Redirecciones 301
Redirect 301 /index /
Redirect 301 /m/ /
Redirect 301 /mobile/ /
Redirect 301 /modelo-420-decorado-cobre /
Redirect 301 /modelo-420-decorado-negro /
RedirectMatch 301 ^/(modelo-.*)$ /zapatos/$1
Redirect 301 /modelo-420-decoracion-elegance-marron-claro /zapatos/modelo-420-decoracion-elegance-marron-claro
Redirect 301 /modelo-420-sin-decorar-cobre /zapatos/modelo-420-sin-decorar-cobre
Redirect 301 /modelo-420-sin-decorar-negro /zapatos/modelo-420-sin-decorar-negro
Redirect 301 /modelo-520-decoracion-estelar-negro /zapatos/modelo-520-decoracion-estelar-negro
Redirect 301 /modelo-520-sin-decorar-marron-claro /zapatos/modelo-520-sin-decorar-marron-claro
Redirect 301 /modelo-520-sin-decorar-negro /zapatos/modelo-520-sin-decorar-negro
Redirect 301 /modelo-620-decoracion-mandala-negro /zapatos/modelo-620-decoracion-mandala-negro
Redirect 301 /modelo-620-decoracion-panamera-cobre /zapatos/modelo-620-decoracion-panamera-cobre
Redirect 301 /modelo-620-pala-decorada-cobre /zapatos/modelo-620-pala-decorada-cobre
Redirect 301 /modelo-620-pala-decorada-negro /zapatos/modelo-620-pala-decorada-negro
Redirect 301 /modelo-620-sin-decorar-cobre /zapatos/modelo-620-sin-decorar-cobre
Redirect 301 /modelo-620-sin-decorar-negro /zapatos/modelo-620-sin-decorar-negro
Redirect 301 /modelo-720-pala-decorada-negro /zapatos/modelo-720-pala-decorada-negro
Redirect 301 /modelo-720-sin-decorar-negro /zapatos/modelo-720-sin-decorar-negro
Redirect 301 /modelo-720-sin-decorar-plata /zapatos/modelo-720-sin-decorar-plata
Redirect 301 /modelo-820-decoracion-deluxe-azul /zapatos/modelo-820-decoracion-deluxe-azul
Redirect 301 /modelo-820-decoracion-deluxe-rojo /zapatos/modelo-820-decoracion-deluxe-rojo
Redirect 301 /modelo-820-decoracion-deluxe-rosa-palo /zapatos/modelo-820-decoracion-deluxe-rosa-palo
Redirect 301 /modelo-820-pala-decorada-cobre /zapatos/modelo-820-pala-decorada-cobre
Redirect 301 /modelo-820-sin-decorar-azul /zapatos/modelo-820-sin-decorar-azul
Redirect 301 /modelo-820-sin-decorar-cobre /zapatos/modelo-820-sin-decorar-cobre
Redirect 301 /modelo-820-sin-decorar-negro /zapatos/modelo-820-sin-decorar-negro
Redirect 301 /modelo-820-sin-decorar-rojo /zapatos/modelo-820-sin-decorar-rojo
Redirect 301 /modelo-820-sin-decorar-rosa-palo /zapatos/modelo-820-sin-decorar-rosa-palo
Redirect 301 /modelo-jazz-marron-claro /zapatos/modelo-jazz-marron-claro